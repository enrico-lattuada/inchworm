name: Lint Rust

on:
  # Run on call from other workflows
  workflow_call:
  # Manual trigger
  workflow_dispatch:

env:
  RUSTFLAGS: -C debuginfo=0  # Do not produce debug symbols to keep memory usage down

jobs:
  clippy:
    name: Clippy Linting
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ” Checkout Code
        uses: actions/checkout@v6

      - name: ğŸ¦€ Set up Rust
        run: rustup component add clippy

      - name: â˜‘ï¸ Run Clippy Check
        run: cargo clippy --workspace --all-targets --all-features -- -D warnings
